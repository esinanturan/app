"use strict";var _o=Object.defineProperty;var Qn=t=>{throw TypeError(t)};var wo=(t,e,n)=>e in t?_o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ht=(t,e,n)=>wo(t,typeof e!="symbol"?e+"":e,n),tr=(t,e,n)=>e.has(t)||Qn("Cannot "+n);var Q=(t,e,n)=>(tr(t,e,"read from private field"),n?n.call(t):e.get(t)),on=(t,e,n)=>e.has(t)?Qn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ln=(t,e,n,r)=>(tr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);(function(){var t=window.Document.prototype.createElement,e=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,i=window.DocumentFragment.prototype.prepend,s=window.DocumentFragment.prototype.append,u=window.Node.prototype.cloneNode,h=window.Node.prototype.appendChild,d=window.Node.prototype.insertBefore,_=window.Node.prototype.removeChild,m=window.Node.prototype.replaceChild,p=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),y=window.Element.prototype.attachShadow,w=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),C=window.Element.prototype.getAttribute,N=window.Element.prototype.setAttribute,D=window.Element.prototype.removeAttribute,q=window.Element.prototype.toggleAttribute,k=window.Element.prototype.getAttributeNS,x=window.Element.prototype.setAttributeNS,M=window.Element.prototype.removeAttributeNS,kt=window.Element.prototype.insertAdjacentElement,dt=window.Element.prototype.insertAdjacentHTML,S=window.Element.prototype.prepend,L=window.Element.prototype.append,W=window.Element.prototype.before,z=window.Element.prototype.after,O=window.Element.prototype.replaceWith,B=window.Element.prototype.remove,nt=window.HTMLElement,X=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),G=window.HTMLElement.prototype.insertAdjacentElement,Rt=window.HTMLElement.prototype.insertAdjacentHTML,Ht=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(l){return Ht.add(l)});function Vn(l){var a=Ht.has(l);return l=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(l),!a&&l}var uo=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function V(l){var a=l.isConnected;if(a!==void 0)return a;if(uo(l))return!0;for(;l&&!(l.__CE_isImportDocument||l instanceof Document);)l=l.parentNode||(window.ShadowRoot&&l instanceof ShadowRoot?l.host:void 0);return!(!l||!(l.__CE_isImportDocument||l instanceof Document))}function Qe(l){var a=l.children;if(a)return Array.prototype.slice.call(a);for(a=[],l=l.firstChild;l;l=l.nextSibling)l.nodeType===Node.ELEMENT_NODE&&a.push(l);return a}function tn(l,a){for(;a&&a!==l&&!a.nextSibling;)a=a.parentNode;return a&&a!==l?a.nextSibling:null}function en(l,a,f){for(var g=l;g;){if(g.nodeType===Node.ELEMENT_NODE){var c=g;a(c);var v=c.localName;if(v==="link"&&c.getAttribute("rel")==="import"){if(g=c.import,f===void 0&&(f=new Set),g instanceof Node&&!f.has(g))for(f.add(g),g=g.firstChild;g;g=g.nextSibling)en(g,a,f);g=tn(l,c);continue}else if(v==="template"){g=tn(l,c);continue}if(c=c.__CE_shadowRoot)for(c=c.firstChild;c;c=c.nextSibling)en(c,a,f)}g=g.firstChild?g.firstChild:tn(l,g)}}function ye(){var l=!(wt==null||!wt.noDocumentConstructionObserver),a=!(wt==null||!wt.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=a,this.I=!l}function fe(l,a,f,g){var c=window.ShadyDOM;if(l.shadyDomFastWalk&&c&&c.inUse){if(a.nodeType===Node.ELEMENT_NODE&&f(a),a.querySelectorAll)for(l=c.nativeMethods.querySelectorAll.call(a,"*"),a=0;a<l.length;a++)f(l[a])}else en(a,f,g)}function co(l,a){l.j=!0,l.m.push(a)}function fo(l,a){l.j=!0,l.g.push(a)}function nn(l,a){l.j&&fe(l,a,function(f){return Jt(l,f)})}function Jt(l,a){if(l.j&&!a.__CE_patched){a.__CE_patched=!0;for(var f=0;f<l.m.length;f++)l.m[f](a);for(f=0;f<l.g.length;f++)l.g[f](a)}}function _t(l,a){var f=[];for(fe(l,a,function(c){return f.push(c)}),a=0;a<f.length;a++){var g=f[a];g.__CE_state===1?l.connectedCallback(g):Ee(l,g)}}function rt(l,a){var f=[];for(fe(l,a,function(c){return f.push(c)}),a=0;a<f.length;a++){var g=f[a];g.__CE_state===1&&l.disconnectedCallback(g)}}function Tt(l,a,f){f=f===void 0?{}:f;var g=f.J,c=f.upgrade||function(b){return Ee(l,b)},v=[];for(fe(l,a,function(b){if(l.j&&Jt(l,b),b.localName==="link"&&b.getAttribute("rel")==="import"){var E=b.import;E instanceof Node&&(E.__CE_isImportDocument=!0,E.__CE_registry=document.__CE_registry),E&&E.readyState==="complete"?E.__CE_documentLoadHandled=!0:b.addEventListener("load",function(){var $=b.import;if(!$.__CE_documentLoadHandled){$.__CE_documentLoadHandled=!0;var A=new Set;g&&(g.forEach(function(H){return A.add(H)}),A.delete($)),Tt(l,$,{J:A,upgrade:c})}})}else v.push(b)},g),a=0;a<v.length;a++)c(v[a])}function Ee(l,a){try{var f=a.ownerDocument,g=f.__CE_registry,c=g&&(f.defaultView||f.__CE_isImportDocument)?Ce(g,a.localName):void 0;if(c&&a.__CE_state===void 0){c.constructionStack.push(a);try{try{if(new c.constructorFunction!==a)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{c.constructionStack.pop()}}catch($){throw a.__CE_state=2,$}if(a.__CE_state=1,a.__CE_definition=c,c.attributeChangedCallback&&a.hasAttributes()){var v=c.observedAttributes;for(c=0;c<v.length;c++){var b=v[c],E=a.getAttribute(b);E!==null&&l.attributeChangedCallback(a,b,null,E,null)}}V(a)&&l.connectedCallback(a)}}catch($){Kt($)}}ye.prototype.connectedCallback=function(l){var a=l.__CE_definition;if(a.connectedCallback)try{a.connectedCallback.call(l)}catch(f){Kt(f)}},ye.prototype.disconnectedCallback=function(l){var a=l.__CE_definition;if(a.disconnectedCallback)try{a.disconnectedCallback.call(l)}catch(f){Kt(f)}},ye.prototype.attributeChangedCallback=function(l,a,f,g,c){var v=l.__CE_definition;if(v.attributeChangedCallback&&-1<v.observedAttributes.indexOf(a))try{v.attributeChangedCallback.call(l,a,f,g,c)}catch(b){Kt(b)}};function zn(l,a,f,g){var c=a.__CE_registry;if(c&&(g===null||g==="http://www.w3.org/1999/xhtml")&&(c=Ce(c,f)))try{var v=new c.constructorFunction;if(v.__CE_state===void 0||v.__CE_definition===void 0)throw Error("Failed to construct '"+f+"': The returned value was not constructed with the HTMLElement constructor.");if(v.namespaceURI!=="http://www.w3.org/1999/xhtml")throw Error("Failed to construct '"+f+"': The constructed element's namespace must be the HTML namespace.");if(v.hasAttributes())throw Error("Failed to construct '"+f+"': The constructed element must not have any attributes.");if(v.firstChild!==null)throw Error("Failed to construct '"+f+"': The constructed element must not have any children.");if(v.parentNode!==null)throw Error("Failed to construct '"+f+"': The constructed element must not have a parent node.");if(v.ownerDocument!==a)throw Error("Failed to construct '"+f+"': The constructed element's owner document is incorrect.");if(v.localName!==f)throw Error("Failed to construct '"+f+"': The constructed element's local name is incorrect.");return v}catch(b){return Kt(b),a=g===null?t.call(a,f):e.call(a,g,f),Object.setPrototypeOf(a,HTMLUnknownElement.prototype),a.__CE_state=2,a.__CE_definition=void 0,Jt(l,a),a}return a=g===null?t.call(a,f):e.call(a,g,f),Jt(l,a),a}function Kt(l){var a="",f="",g=0,c=0;l instanceof Error?(a=l.message,f=l.sourceURL||l.fileName||"",g=l.line||l.lineNumber||0,c=l.column||l.columnNumber||0):a="Uncaught "+String(l);var v=void 0;ErrorEvent.prototype.initErrorEvent===void 0?v=new ErrorEvent("error",{cancelable:!0,message:a,filename:f,lineno:g,colno:c,error:l}):(v=document.createEvent("ErrorEvent"),v.initErrorEvent("error",!1,!0,a,f,g),v.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),v.error===void 0&&Object.defineProperty(v,"error",{configurable:!0,enumerable:!0,get:function(){return l}}),window.dispatchEvent(v),v.defaultPrevented||console.error(l)}function Un(){var l=this;this.g=void 0,this.F=new Promise(function(a){l.l=a})}Un.prototype.resolve=function(l){if(this.g)throw Error("Already resolved.");this.g=l,this.l(l)};function Wn(l){var a=document;this.l=void 0,this.h=l,this.g=a,Tt(this.h,this.g),this.g.readyState==="loading"&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function Yn(l){l.l&&l.l.disconnect()}Wn.prototype.G=function(l){var a=this.g.readyState;for(a!=="interactive"&&a!=="complete"||Yn(this),a=0;a<l.length;a++)for(var f=l[a].addedNodes,g=0;g<f.length;g++)Tt(this.h,f[g])};function U(l){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(a){return a()},this.i=!1,this.v=[],this.h=l,this.D=l.I?new Wn(l):void 0}U.prototype.H=function(l,a){var f=this;if(!(a instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Xn(this,l),this.s.set(l,a),this.v.push(l),this.i||(this.i=!0,this.o(function(){return Jn(f)}))},U.prototype.define=function(l,a){var f=this;if(!(a instanceof Function))throw new TypeError("Custom element constructors must be functions.");Xn(this,l),Gn(this,l,a),this.v.push(l),this.i||(this.i=!0,this.o(function(){return Jn(f)}))};function Xn(l,a){if(!Vn(a))throw new SyntaxError("The element name '"+a+"' is not valid.");if(Ce(l,a))throw Error("A custom element with name '"+(a+"' has already been defined."));if(l.A)throw Error("A custom element is already being defined.")}function Gn(l,a,f){l.A=!0;var g;try{var c=f.prototype;if(!(c instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var v=function(H){var Zt=c[H];if(Zt!==void 0&&!(Zt instanceof Function))throw Error("The '"+H+"' callback must be a function.");return Zt},b=v("connectedCallback"),E=v("disconnectedCallback"),$=v("adoptedCallback"),A=(g=v("attributeChangedCallback"))&&f.observedAttributes||[]}catch(H){throw H}finally{l.A=!1}return f={localName:a,constructorFunction:f,connectedCallback:b,disconnectedCallback:E,adoptedCallback:$,attributeChangedCallback:g,observedAttributes:A,constructionStack:[]},l.u.set(a,f),l.C.set(f.constructorFunction,f),f}U.prototype.upgrade=function(l){Tt(this.h,l)};function Jn(l){if(l.i!==!1){l.i=!1;for(var a=[],f=l.v,g=new Map,c=0;c<f.length;c++)g.set(f[c],[]);for(Tt(l.h,document,{upgrade:function($){if($.__CE_state===void 0){var A=$.localName,H=g.get(A);H?H.push($):l.u.has(A)&&a.push($)}}}),c=0;c<a.length;c++)Ee(l.h,a[c]);for(c=0;c<f.length;c++){for(var v=f[c],b=g.get(v),E=0;E<b.length;E++)Ee(l.h,b[E]);(v=l.B.get(v))&&v.resolve(void 0)}f.length=0}}U.prototype.get=function(l){if(l=Ce(this,l))return l.constructorFunction},U.prototype.whenDefined=function(l){if(!Vn(l))return Promise.reject(new SyntaxError("'"+l+"' is not a valid custom element name."));var a=this.B.get(l);if(a)return a.F;a=new Un,this.B.set(l,a);var f=this.u.has(l)||this.s.has(l);return l=this.v.indexOf(l)===-1,f&&l&&a.resolve(void 0),a.F},U.prototype.polyfillWrapFlushCallback=function(l){this.D&&Yn(this.D);var a=this.o;this.o=function(f){return l(function(){return a(f)})}};function Ce(l,a){var f=l.u.get(a);if(f)return f;if(f=l.s.get(a)){l.s.delete(a);try{return Gn(l,a,f())}catch(g){Kt(g)}}}U.prototype.define=U.prototype.define,U.prototype.upgrade=U.prototype.upgrade,U.prototype.get=U.prototype.get,U.prototype.whenDefined=U.prototype.whenDefined,U.prototype.polyfillDefineLazy=U.prototype.H,U.prototype.polyfillWrapFlushCallback=U.prototype.polyfillWrapFlushCallback;function rn(l,a,f){function g(c){return function(v){for(var b=[],E=0;E<arguments.length;++E)b[E]=arguments[E];E=[];for(var $=[],A=0;A<b.length;A++){var H=b[A];if(H instanceof Element&&V(H)&&$.push(H),H instanceof DocumentFragment)for(H=H.firstChild;H;H=H.nextSibling)E.push(H);else E.push(H)}for(c.apply(this,b),b=0;b<$.length;b++)rt(l,$[b]);if(V(this))for(b=0;b<E.length;b++)$=E[b],$ instanceof Element&&_t(l,$)}}f.prepend!==void 0&&(a.prepend=g(f.prepend)),f.append!==void 0&&(a.append=g(f.append))}function ho(l){Document.prototype.createElement=function(a){return zn(l,this,a,null)},Document.prototype.importNode=function(a,f){return a=n.call(this,a,!!f),this.__CE_registry?Tt(l,a):nn(l,a),a},Document.prototype.createElementNS=function(a,f){return zn(l,this,f,a)},rn(l,Document.prototype,{prepend:r,append:o})}function vo(l){function a(g){return function(c){for(var v=[],b=0;b<arguments.length;++b)v[b]=arguments[b];b=[];for(var E=[],$=0;$<v.length;$++){var A=v[$];if(A instanceof Element&&V(A)&&E.push(A),A instanceof DocumentFragment)for(A=A.firstChild;A;A=A.nextSibling)b.push(A);else b.push(A)}for(g.apply(this,v),v=0;v<E.length;v++)rt(l,E[v]);if(V(this))for(v=0;v<b.length;v++)E=b[v],E instanceof Element&&_t(l,E)}}var f=Element.prototype;W!==void 0&&(f.before=a(W)),z!==void 0&&(f.after=a(z)),O!==void 0&&(f.replaceWith=function(g){for(var c=[],v=0;v<arguments.length;++v)c[v]=arguments[v];v=[];for(var b=[],E=0;E<c.length;E++){var $=c[E];if($ instanceof Element&&V($)&&b.push($),$ instanceof DocumentFragment)for($=$.firstChild;$;$=$.nextSibling)v.push($);else v.push($)}for(E=V(this),O.apply(this,c),c=0;c<b.length;c++)rt(l,b[c]);if(E)for(rt(l,this),c=0;c<v.length;c++)b=v[c],b instanceof Element&&_t(l,b)}),B!==void 0&&(f.remove=function(){var g=V(this);B.call(this),g&&rt(l,this)})}function po(l){function a(c,v){Object.defineProperty(c,"innerHTML",{enumerable:v.enumerable,configurable:!0,get:v.get,set:function(b){var E=this,$=void 0;if(V(this)&&($=[],fe(l,this,function(Zt){Zt!==E&&$.push(Zt)})),v.set.call(this,b),$)for(var A=0;A<$.length;A++){var H=$[A];H.__CE_state===1&&l.disconnectedCallback(H)}return this.ownerDocument.__CE_registry?Tt(l,this):nn(l,this),b}})}function f(c,v){c.insertAdjacentElement=function(b,E){var $=V(E);return b=v.call(this,b,E),$&&rt(l,E),V(b)&&_t(l,E),b}}function g(c,v){function b(E,$){for(var A=[];E!==$;E=E.nextSibling)A.push(E);for($=0;$<A.length;$++)Tt(l,A[$])}c.insertAdjacentHTML=function(E,$){if(E=E.toLowerCase(),E==="beforebegin"){var A=this.previousSibling;v.call(this,E,$),b(A||this.parentNode.firstChild,this)}else if(E==="afterbegin")A=this.firstChild,v.call(this,E,$),b(this.firstChild,A);else if(E==="beforeend")A=this.lastChild,v.call(this,E,$),b(A||this.firstChild,null);else if(E==="afterend")A=this.nextSibling,v.call(this,E,$),b(this.nextSibling,A);else throw new SyntaxError("The value provided ("+String(E)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.")}}y&&(Element.prototype.attachShadow=function(c){if(c=y.call(this,c),l.j&&!c.__CE_patched){c.__CE_patched=!0;for(var v=0;v<l.m.length;v++)l.m[v](c)}return this.__CE_shadowRoot=c}),w&&w.get?a(Element.prototype,w):X&&X.get?a(HTMLElement.prototype,X):fo(l,function(c){a(c,{enumerable:!0,configurable:!0,get:function(){return u.call(this,!0).innerHTML},set:function(v){var b=this.localName==="template",E=b?this.content:this,$=e.call(document,this.namespaceURI,this.localName);for($.innerHTML=v;0<E.childNodes.length;)_.call(E,E.childNodes[0]);for(v=b?$.content:$;0<v.childNodes.length;)h.call(E,v.childNodes[0])}})}),Element.prototype.setAttribute=function(c,v){if(this.__CE_state!==1)return N.call(this,c,v);var b=C.call(this,c);N.call(this,c,v),v=C.call(this,c),l.attributeChangedCallback(this,c,b,v,null)},Element.prototype.setAttributeNS=function(c,v,b){if(this.__CE_state!==1)return x.call(this,c,v,b);var E=k.call(this,c,v);x.call(this,c,v,b),b=k.call(this,c,v),l.attributeChangedCallback(this,v,E,b,c)},Element.prototype.removeAttribute=function(c){if(this.__CE_state!==1)return D.call(this,c);var v=C.call(this,c);D.call(this,c),v!==null&&l.attributeChangedCallback(this,c,v,null,null)},q&&(Element.prototype.toggleAttribute=function(c,v){if(this.__CE_state!==1)return q.call(this,c,v);var b=C.call(this,c),E=b!==null;return v=q.call(this,c,v),E!==v&&l.attributeChangedCallback(this,c,b,v?"":null,null),v}),Element.prototype.removeAttributeNS=function(c,v){if(this.__CE_state!==1)return M.call(this,c,v);var b=k.call(this,c,v);M.call(this,c,v);var E=k.call(this,c,v);b!==E&&l.attributeChangedCallback(this,v,b,E,c)},G?f(HTMLElement.prototype,G):kt&&f(Element.prototype,kt),Rt?g(HTMLElement.prototype,Rt):dt&&g(Element.prototype,dt),rn(l,Element.prototype,{prepend:S,append:L}),vo(l)}var Kn={};function go(l){function a(){var f=this.constructor,g=document.__CE_registry.C.get(f);if(!g)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var c=g.constructionStack;if(c.length===0)return c=t.call(document,g.localName),Object.setPrototypeOf(c,f.prototype),c.__CE_state=1,c.__CE_definition=g,Jt(l,c),c;var v=c.length-1,b=c[v];if(b===Kn)throw Error("Failed to construct '"+g.localName+"': This element was already constructed.");return c[v]=Kn,Object.setPrototypeOf(b,f.prototype),Jt(l,b),b}a.prototype=nt.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:a}),window.HTMLElement=a}function mo(l){function a(f,g){Object.defineProperty(f,"textContent",{enumerable:g.enumerable,configurable:!0,get:g.get,set:function(c){if(this.nodeType===Node.TEXT_NODE)g.set.call(this,c);else{var v=void 0;if(this.firstChild){var b=this.childNodes,E=b.length;if(0<E&&V(this)){v=Array(E);for(var $=0;$<E;$++)v[$]=b[$]}}if(g.set.call(this,c),v)for(c=0;c<v.length;c++)rt(l,v[c])}}})}Node.prototype.insertBefore=function(f,g){if(f instanceof DocumentFragment){var c=Qe(f);if(f=d.call(this,f,g),V(this))for(g=0;g<c.length;g++)_t(l,c[g]);return f}return c=f instanceof Element&&V(f),g=d.call(this,f,g),c&&rt(l,f),V(this)&&_t(l,f),g},Node.prototype.appendChild=function(f){if(f instanceof DocumentFragment){var g=Qe(f);if(f=h.call(this,f),V(this))for(var c=0;c<g.length;c++)_t(l,g[c]);return f}return g=f instanceof Element&&V(f),c=h.call(this,f),g&&rt(l,f),V(this)&&_t(l,f),c},Node.prototype.cloneNode=function(f){return f=u.call(this,!!f),this.ownerDocument.__CE_registry?Tt(l,f):nn(l,f),f},Node.prototype.removeChild=function(f){var g=f instanceof Element&&V(f),c=_.call(this,f);return g&&rt(l,f),c},Node.prototype.replaceChild=function(f,g){if(f instanceof DocumentFragment){var c=Qe(f);if(f=m.call(this,f,g),V(this))for(rt(l,g),g=0;g<c.length;g++)_t(l,c[g]);return f}c=f instanceof Element&&V(f);var v=m.call(this,f,g),b=V(this);return b&&rt(l,g),c&&rt(l,f),b&&_t(l,f),v},p&&p.get?a(Node.prototype,p):co(l,function(f){a(f,{enumerable:!0,configurable:!0,get:function(){for(var g=[],c=this.firstChild;c;c=c.nextSibling)c.nodeType!==Node.COMMENT_NODE&&g.push(c.textContent);return g.join("")},set:function(g){for(;this.firstChild;)_.call(this,this.firstChild);g!=null&&g!==""&&h.call(this,document.createTextNode(g))}})})}var wt=window.customElements;function Zn(){var l=new ye;go(l),ho(l),rn(l,DocumentFragment.prototype,{prepend:i,append:s}),mo(l),po(l),window.CustomElementRegistry=U,l=new U(l),document.__CE_registry=l,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:l})}wt&&!wt.forcePolyfill&&typeof wt.define=="function"&&typeof wt.get=="function"||Zn(),window.__CE_installPolyfill=Zn}).call(self);const $n=1,kn=2,mr=4,bo=8,yo=16,Eo=1,Co=2,Tn="[",xn="[!",Nn="]",ee={},tt=Symbol(),$o="http://www.w3.org/1999/xhtml",er=!1;var Sn=Array.isArray,ko=Array.prototype.indexOf,An=Array.from,Te=Object.keys,xe=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,To=Object.getOwnPropertyDescriptors,xo=Object.prototype,No=Array.prototype,_r=Object.getPrototypeOf,nr=Object.isExtensible;const wr=()=>{};function br(t){for(var e=0;e<t.length;e++)t[e]()}const pt=2,yr=4,je=8,Dn=16,Lt=32,Yt=64,Ne=128,at=256,Se=512,et=1024,Et=2048,Xt=4096,Dt=8192,Be=16384,So=32768,Ve=65536,Ao=1<<19,Er=1<<20,pn=1<<21,re=Symbol("$state"),Do=Symbol("legacy props"),Mo=Symbol("");function Cr(t){return t===this.v}function Lo(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function $r(t){return!Lo(t,this.v)}function Oo(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ro(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qo(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Po(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Fo(){throw new Error("https://svelte.dev/e/hydration_failed")}function Io(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ho(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function jo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Bo=!1,ut=null;function rr(t){ut=t}function se(t,e=!1,n){var r=ut={p:ut,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};qn(()=>{r.d=!0})}function ae(t){const e=ut;if(e!==null){t!==void 0&&(e.x=t);const s=e.e;if(s!==null){var n=F,r=I;e.e=null;try{for(var o=0;o<s.length;o++){var i=s[o];It(i.effect),$t(i.reaction),Pn(i.fn)}}finally{It(n),$t(r)}}ut=e.p,e.m=!0}return t||{}}function kr(){return!0}function Bt(t){if(typeof t!="object"||t===null||re in t)return t;const e=_r(t);if(e!==xo&&e!==No)return t;var n=new Map,r=Sn(t),o=Y(0),i=I,s=u=>{var h=I;$t(i);var d=u();return $t(h),d};return r&&n.set("length",Y(t.length)),new Proxy(t,{defineProperty(u,h,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Io();var _=n.get(h);return _===void 0?(_=s(()=>Y(d.value)),n.set(h,_)):j(_,s(()=>Bt(d.value))),!0},deleteProperty(u,h){var d=n.get(h);if(d===void 0)h in u&&(n.set(h,s(()=>Y(tt))),sn(o));else{if(r&&typeof h=="string"){var _=n.get("length"),m=Number(h);Number.isInteger(m)&&m<_.v&&j(_,m)}j(d,tt),sn(o)}return!0},get(u,h,d){var y;if(h===re)return t;var _=n.get(h),m=h in u;if(_===void 0&&(!m||(y=ne(u,h))!=null&&y.writable)&&(_=s(()=>Y(Bt(m?u[h]:tt))),n.set(h,_)),_!==void 0){var p=T(_);return p===tt?void 0:p}return Reflect.get(u,h,d)},getOwnPropertyDescriptor(u,h){var d=Reflect.getOwnPropertyDescriptor(u,h);if(d&&"value"in d){var _=n.get(h);_&&(d.value=T(_))}else if(d===void 0){var m=n.get(h),p=m==null?void 0:m.v;if(m!==void 0&&p!==tt)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return d},has(u,h){var p;if(h===re)return!0;var d=n.get(h),_=d!==void 0&&d.v!==tt||Reflect.has(u,h);if(d!==void 0||F!==null&&(!_||(p=ne(u,h))!=null&&p.writable)){d===void 0&&(d=s(()=>Y(_?Bt(u[h]):tt)),n.set(h,d));var m=T(d);if(m===tt)return!1}return _},set(u,h,d,_){var q;var m=n.get(h),p=h in u;if(r&&h==="length")for(var y=d;y<m.v;y+=1){var w=n.get(y+"");w!==void 0?j(w,tt):y in u&&(w=s(()=>Y(tt)),n.set(y+"",w))}m===void 0?(!p||(q=ne(u,h))!=null&&q.writable)&&(m=s(()=>Y(void 0)),j(m,s(()=>Bt(d))),n.set(h,m)):(p=m.v!==tt,j(m,s(()=>Bt(d))));var C=Reflect.getOwnPropertyDescriptor(u,h);if(C!=null&&C.set&&C.set.call(_,d),!p){if(r&&typeof h=="string"){var N=n.get("length"),D=Number(h);Number.isInteger(D)&&D>=N.v&&j(N,D+1)}sn(o)}return!0},ownKeys(u){T(o);var h=Reflect.ownKeys(u).filter(m=>{var p=n.get(m);return p===void 0||p.v!==tt});for(var[d,_]of n)_.v!==tt&&!(d in u)&&h.push(d);return h},setPrototypeOf(){Ho()}})}function sn(t,e=1){j(t,t.v+e)}function or(t){try{if(t!==null&&typeof t=="object"&&re in t)return t[re]}catch{}return t}function Vo(t,e){return Object.is(or(t),or(e))}function Mn(t){var e=pt|Et,n=I!==null&&I.f&pt?I:null;return F===null||n!==null&&n.f&at?e|=at:F.f|=Er,{ctx:ut,deps:null,effects:null,equals:Cr,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??F}}function zo(t){const e=Mn(t);return e.equals=$r,e}function Tr(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Ct(e[n])}}function Uo(t){for(var e=t.parent;e!==null;){if(!(e.f&pt))return e;e=e.parent}return null}function xr(t){var e,n=F;It(Uo(t));try{Tr(t),e=Ur(t)}finally{It(n)}return e}function Nr(t){var e=xr(t);if(t.equals(e)||(t.v=e,t.wv=Vr()),!ue){var n=(Pt||t.f&at)&&t.deps!==null?Xt:et;gt(t,n)}}const pe=new Map;function Ae(t,e){var n={f:0,v:t,reactions:null,equals:Cr,rv:0,wv:0};return n}function Y(t,e){const n=Ae(t);return ei(n),n}function Ln(t,e=!1){const n=Ae(t);return e||(n.equals=$r),n}function j(t,e,n=!1){I!==null&&!yt&&kr()&&I.f&(pt|Dn)&&!(Z!=null&&Z.includes(t))&&jo();let r=n?Bt(e):e;return gn(t,r)}function gn(t,e){if(!t.equals(e)){var n=t.v;ue?pe.set(t,e):pe.set(t,n),t.v=e,t.f&pt&&(t.f&Et&&xr(t),gt(t,t.f&at?Xt:et)),t.wv=Vr(),Sr(t,Et),F!==null&&F.f&et&&!(F.f&(Lt|Yt))&&(ct===null?ni([t]):ct.push(t))}return e}function Sr(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,o=0;o<r;o++){var i=n[o],s=i.f;s&Et||(gt(i,e),s&(et|at)&&(s&pt?Sr(i,Xt):Ge(i)))}}function ze(t){console.warn("https://svelte.dev/e/hydration_mismatch")}let R=!1;function At(t){R=t}let P;function vt(t){if(t===null)throw ze(),ee;return P=t}function Ue(){return vt(Ot(P))}function K(t){if(R){if(Ot(P)!==null)throw ze(),ee;P=t}}function Wo(t=1){if(R){for(var e=t,n=P;e--;)n=Ot(n);P=n}}function mn(){for(var t=0,e=P;;){if(e.nodeType===8){var n=e.data;if(n===Nn){if(t===0)return e;t-=1}else(n===Tn||n===xn)&&(t+=1)}var r=Ot(e);e.remove(),e=r}}function Ar(t){if(!t||t.nodeType!==8)throw ze(),ee;return t.data}var De,jt,Dr,Mr,Lr;function _n(){if(De===void 0){De=window,jt=document,Dr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Mr=ne(e,"firstChild").get,Lr=ne(e,"nextSibling").get,nr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),nr(n)&&(n.__t=void 0)}}function ie(t=""){return document.createTextNode(t)}function Ft(t){return Mr.call(t)}function Ot(t){return Lr.call(t)}function it(t,e){if(!R)return Ft(t);var n=Ft(P);if(n===null)n=P.appendChild(ie());else if(e&&n.nodeType!==3){var r=ie();return n==null||n.before(r),vt(r),r}return vt(n),n}function On(t,e){if(!R){var n=Ft(t);return n instanceof Comment&&n.data===""?Ot(n):n}return P}function lt(t,e=1,n=!1){let r=R?P:t;for(var o;e--;)o=r,r=Ot(r);if(!R)return r;var i=r==null?void 0:r.nodeType;if(n&&i!==3){var s=ie();return r===null?o==null||o.after(s):r.before(s),vt(s),s}return vt(r),r}function Rn(t){t.textContent=""}function Yo(t){F===null&&I===null&&qo(),I!==null&&I.f&at&&F===null&&Ro(),ue&&Oo()}function Xo(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Gt(t,e,n,r=!0){var o=F,i={ctx:ut,deps:null,nodes_start:null,nodes_end:null,f:t|Et,first:null,fn:e,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{In(i),i.f|=So}catch(h){throw Ct(i),h}else e!==null&&Ge(i);var s=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Er|Ne))===0;if(!s&&r&&(o!==null&&Xo(i,o),I!==null&&I.f&pt)){var u=I;(u.effects??(u.effects=[])).push(i)}return i}function qn(t){const e=Gt(je,null,!1);return gt(e,et),e.teardown=t,e}function Me(t){Yo();var e=F!==null&&(F.f&Lt)!==0&&ut!==null&&!ut.m;if(e){var n=ut;(n.e??(n.e=[])).push({fn:t,effect:F,reaction:I})}else{var r=Pn(t);return r}}function Or(t){const e=Gt(Yt,t,!0);return()=>{Ct(e)}}function Go(t){const e=Gt(Yt,t,!0);return(n={})=>new Promise(r=>{n.outro?Le(e,()=>{Ct(e),r(void 0)}):(Ct(e),r(void 0))})}function Pn(t){return Gt(yr,t,!1)}function We(t){return Gt(je,t,!0)}function Vt(t,e=[],n=Mn){const r=e.map(n);return Ye(()=>t(...r.map(T)))}function Ye(t,e=0){return Gt(je|Dn|e,t,!0)}function le(t,e=!0){return Gt(je|Lt,t,!0,e)}function Rr(t){var e=t.teardown;if(e!==null){const n=ue,r=I;ir(!0),$t(null);try{e.call(null)}finally{ir(n),$t(r)}}}function qr(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;n.f&Yt?n.parent=null:Ct(n,e),n=r}}function Jo(t){for(var e=t.first;e!==null;){var n=e.next;e.f&Lt||Ct(e),e=n}}function Ct(t,e=!0){var n=!1;(e||t.f&Ao)&&t.nodes_start!==null&&(Ko(t.nodes_start,t.nodes_end),n=!0),qr(t,e&&!n),Fe(t,0),gt(t,Be);var r=t.transitions;if(r!==null)for(const i of r)i.stop();Rr(t);var o=t.parent;o!==null&&o.first!==null&&Pr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Ko(t,e){for(;t!==null;){var n=t===e?null:Ot(t);t.remove(),t=n}}function Pr(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Le(t,e){var n=[];Fn(t,n,!0),Fr(n,()=>{Ct(t),e&&e()})}function Fr(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function Fn(t,e,n){if(!(t.f&Dt)){if(t.f^=Dt,t.transitions!==null)for(const s of t.transitions)(s.is_global||n)&&e.push(s);for(var r=t.first;r!==null;){var o=r.next,i=(r.f&Ve)!==0||(r.f&Lt)!==0;Fn(r,e,i?n:!1),r=o}}}function Oe(t){Ir(t,!0)}function Ir(t,e){if(t.f&Dt){t.f^=Dt,t.f&et||(t.f^=et),_e(t)&&(gt(t,Et),Ge(t));for(var n=t.first;n!==null;){var r=n.next,o=(n.f&Ve)!==0||(n.f&Lt)!==0;Ir(n,o?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}const Zo=typeof requestIdleCallback>"u"?t=>setTimeout(t,1):requestIdleCallback;let ge=[],me=[];function Hr(){var t=ge;ge=[],br(t)}function jr(){var t=me;me=[],br(t)}function Wt(t){ge.length===0&&queueMicrotask(Hr),ge.push(t)}function Qo(t){me.length===0&&Zo(jr),me.push(t)}function ti(){ge.length>0&&Hr(),me.length>0&&jr()}let $e=!1,Re=!1,qe=null,zt=!1,ue=!1;function ir(t){ue=t}let ve=[];let I=null,yt=!1;function $t(t){I=t}let F=null;function It(t){F=t}let Z=null;function ei(t){I!==null&&I.f&pn&&(Z===null?Z=[t]:Z.push(t))}let J=null,ot=0,ct=null;function ni(t){ct=t}let Br=1,Pe=0,Pt=!1;function Vr(){return++Br}function _e(t){var m;var e=t.f;if(e&Et)return!0;if(e&Xt){var n=t.deps,r=(e&at)!==0;if(n!==null){var o,i,s=(e&Se)!==0,u=r&&F!==null&&!Pt,h=n.length;if(s||u){var d=t,_=d.parent;for(o=0;o<h;o++)i=n[o],(s||!((m=i==null?void 0:i.reactions)!=null&&m.includes(d)))&&(i.reactions??(i.reactions=[])).push(d);s&&(d.f^=Se),u&&_!==null&&!(_.f&at)&&(d.f^=at)}for(o=0;o<h;o++)if(i=n[o],_e(i)&&Nr(i),i.wv>t.wv)return!0}(!r||F!==null&&!Pt)&&gt(t,et)}return!1}function ri(t,e){for(var n=e;n!==null;){if(n.f&Ne)try{n.fn(t);return}catch{n.f^=Ne}n=n.parent}throw $e=!1,t}function lr(t){return(t.f&Be)===0&&(t.parent===null||(t.parent.f&Ne)===0)}function Xe(t,e,n,r){if($e){if(n===null&&($e=!1),lr(e))throw t;return}if(n!==null&&($e=!0),ri(t,e),lr(e))throw t}function zr(t,e,n=!0){var r=t.reactions;if(r!==null)for(var o=0;o<r.length;o++){var i=r[o];Z!=null&&Z.includes(t)||(i.f&pt?zr(i,e,!1):e===i&&(n?gt(i,Et):i.f&et&&gt(i,Xt),Ge(i)))}}function Ur(t){var y;var e=J,n=ot,r=ct,o=I,i=Pt,s=Z,u=ut,h=yt,d=t.f;J=null,ot=0,ct=null,Pt=(d&at)!==0&&(yt||!zt||I===null),I=d&(Lt|Yt)?null:t,Z=null,rr(t.ctx),yt=!1,Pe++,t.f|=pn;try{var _=(0,t.fn)(),m=t.deps;if(J!==null){var p;if(Fe(t,ot),m!==null&&ot>0)for(m.length=ot+J.length,p=0;p<J.length;p++)m[ot+p]=J[p];else t.deps=m=J;if(!Pt)for(p=ot;p<m.length;p++)((y=m[p]).reactions??(y.reactions=[])).push(t)}else m!==null&&ot<m.length&&(Fe(t,ot),m.length=ot);if(kr()&&ct!==null&&!yt&&m!==null&&!(t.f&(pt|Xt|Et)))for(p=0;p<ct.length;p++)zr(ct[p],t);return o!==null&&o!==t&&(Pe++,ct!==null&&(r===null?r=ct:r.push(...ct))),_}finally{J=e,ot=n,ct=r,I=o,Pt=i,Z=s,rr(u),yt=h,t.f^=pn}}function oi(t,e){let n=e.reactions;if(n!==null){var r=ko.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&e.f&pt&&(J===null||!J.includes(e))&&(gt(e,Xt),e.f&(at|Se)||(e.f^=Se),Tr(e),Fe(e,0))}function Fe(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)oi(t,n[r])}function In(t){var e=t.f;if(!(e&Be)){gt(t,et);var n=F,r=ut,o=zt;F=t,zt=!0;try{e&Dn?Jo(t):qr(t),Rr(t);var i=Ur(t);t.teardown=typeof i=="function"?i:null,t.wv=Br;var s=t.deps,u;er&&Bo&&t.f&Et}catch(h){Xe(h,t,n,r||t.ctx)}finally{zt=o,F=n}}}function ii(){try{Po()}catch(t){if(qe!==null)Xe(t,qe,null);else throw t}}function Wr(){var t=zt;try{var e=0;for(zt=!0;ve.length>0;){e++>1e3&&ii();var n=ve,r=n.length;ve=[];for(var o=0;o<r;o++){var i=si(n[o]);li(i)}pe.clear()}}finally{Re=!1,zt=t,qe=null}}function li(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if(!(r.f&(Be|Dt)))try{_e(r)&&(In(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Pr(r):r.fn=null))}catch(o){Xe(o,r,null,r.ctx)}}}function Ge(t){Re||(Re=!0,queueMicrotask(Wr));for(var e=qe=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(Yt|Lt)){if(!(n&et))return;e.f^=et}}ve.push(e)}function si(t){for(var e=[],n=t;n!==null;){var r=n.f,o=(r&(Lt|Yt))!==0,i=o&&(r&et)!==0;if(!i&&!(r&Dt)){if(r&yr)e.push(n);else if(o)n.f^=et;else try{_e(n)&&In(n)}catch(h){Xe(h,n,null,n.ctx)}var s=n.first;if(s!==null){n=s;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}return e}function ce(t){for(var e;;){if(ti(),ve.length===0)return e;Re=!0,Wr()}}function T(t){var e=t.f,n=(e&pt)!==0;if(I!==null&&!yt){if(!(Z!=null&&Z.includes(t))){var r=I.deps;t.rv<Pe&&(t.rv=Pe,J===null&&r!==null&&r[ot]===t?ot++:J===null?J=[t]:(!Pt||!J.includes(t))&&J.push(t))}}else if(n&&t.deps===null&&t.effects===null){var o=t,i=o.parent;i!==null&&!(i.f&at)&&(o.f^=at)}return n&&(o=t,_e(o)&&Nr(o)),ue&&pe.has(t)?pe.get(t):t.v}function Hn(t){var e=yt;try{return yt=!0,t()}finally{yt=e}}const ai=-7169;function gt(t,e){t.f=t.f&ai|e}function ui(t,e){{const n=document.body;t.autofocus=!0,Wt(()=>{document.activeElement===n&&t.focus()})}}function ci(t){R&&Ft(t)!==null&&Rn(t)}let sr=!1;function Yr(){sr||(sr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Xr(t){var e=I,n=F;$t(null),It(null);try{return t()}finally{$t(e),It(n)}}function Gr(t,e,n,r=n){t.addEventListener(e,()=>Xr(n));const o=t.__on_r;o?t.__on_r=()=>{o(),r(!0)}:t.__on_r=()=>r(!0),Yr()}const Jr=new Set,wn=new Set;function fi(t,e,n,r={}){function o(i){if(r.capture||he.call(e,i),!i.cancelBubble)return Xr(()=>n==null?void 0:n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Wt(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function bt(t,e,n,r,o){var i={capture:r,passive:o},s=fi(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&qn(()=>{e.removeEventListener(t,s,i)})}function Kr(t){for(var e=0;e<t.length;e++)Jr.add(t[e]);for(var n of wn)n(t)}function he(t){var q;var e=this,n=e.ownerDocument,r=t.type,o=((q=t.composedPath)==null?void 0:q.call(t))||[],i=o[0]||t.target,s=0,u=t.__root;if(u){var h=o.indexOf(u);if(h!==-1&&(e===document||e===window)){t.__root=e;return}var d=o.indexOf(e);if(d===-1)return;h<=d&&(s=h)}if(i=o[s]||t.target,i!==e){xe(t,"currentTarget",{configurable:!0,get(){return i||n}});var _=I,m=F;$t(null),It(null);try{for(var p,y=[];i!==null;){var w=i.assignedSlot||i.parentNode||i.host||null;try{var C=i["__"+r];if(C!=null&&(!i.disabled||t.target===i))if(Sn(C)){var[N,...D]=C;N.apply(i,[t,...D])}else C.call(i,t)}catch(k){p?y.push(k):p=k}if(t.cancelBubble||w===e||w===null)break;i=w}if(p){for(let k of y)queueMicrotask(()=>{throw k});throw p}}finally{t.__root=e,delete t.currentTarget,$t(_),It(m)}}}function di(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function oe(t,e){var n=F;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function mt(t,e){var n=(e&Eo)!==0,r=(e&Co)!==0,o,i=!t.startsWith("<!>");return()=>{if(R)return oe(P,null),P;o===void 0&&(o=di(i?t:"<!>"+t),n||(o=Ft(o)));var s=r||Dr?document.importNode(o,!0):o.cloneNode(!0);if(n){var u=Ft(s),h=s.lastChild;oe(u,h)}else oe(s,s);return s}}function hi(){if(R)return oe(P,null),P;var t=document.createDocumentFragment(),e=document.createComment(""),n=ie();return t.append(e,n),oe(e,n),t}function st(t,e){if(R){F.nodes_end=P,Ue();return}t!==null&&t.before(e)}const vi=["touchstart","touchmove"];function pi(t){return vi.includes(t)}function an(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Zr(t,e){return Qr(t,e)}function gi(t,e){_n(),e.intro=e.intro??!1;const n=e.target,r=R,o=P;try{for(var i=Ft(n);i&&(i.nodeType!==8||i.data!==Tn);)i=Ot(i);if(!i)throw ee;At(!0),vt(i),Ue();const s=Qr(t,{...e,anchor:i});if(P===null||P.nodeType!==8||P.data!==Nn)throw ze(),ee;return At(!1),s}catch(s){if(s===ee)return e.recover===!1&&Fo(),_n(),Rn(n),At(!1),Zr(t,e);throw s}finally{At(r),vt(o)}}const Qt=new Map;function Qr(t,{target:e,anchor:n,props:r={},events:o,context:i,intro:s=!0}){_n();var u=new Set,h=m=>{for(var p=0;p<m.length;p++){var y=m[p];if(!u.has(y)){u.add(y);var w=pi(y);e.addEventListener(y,he,{passive:w});var C=Qt.get(y);C===void 0?(document.addEventListener(y,he,{passive:w}),Qt.set(y,1)):Qt.set(y,C+1)}}};h(An(Jr)),wn.add(h);var d=void 0,_=Go(()=>{var m=n??e.appendChild(ie());return le(()=>{if(i){se({});var p=ut;p.c=i}o&&(r.$$events=o),R&&oe(m,null),d=t(m,r)||{},R&&(F.nodes_end=P),i&&ae()}),()=>{var w;for(var p of u){e.removeEventListener(p,he);var y=Qt.get(p);--y===0?(document.removeEventListener(p,he),Qt.delete(p)):Qt.set(p,y)}wn.delete(h),m!==n&&((w=m.parentNode)==null||w.removeChild(m))}});return bn.set(d,_),d}let bn=new WeakMap;function mi(t,e){const n=bn.get(t);return n?(bn.delete(t),n(e)):Promise.resolve()}function _i(t,e,...n){var r=t,o=wr,i;Ye(()=>{o!==(o=e())&&(i&&(Ct(i),i=null),i=le(()=>o(r,...n)))},Ve),R&&(r=P)}function Ie(t,e,[n,r]=[0,0]){R&&n===0&&Ue();var o=t,i=null,s=null,u=tt,h=n>0?Ve:0,d=!1;const _=(p,y=!0)=>{d=!0,m(y,p)},m=(p,y)=>{if(u===(u=p))return;let w=!1;if(R&&r!==-1){if(n===0){const N=Ar(o);N===Tn?r=0:N===xn?r=1/0:(r=parseInt(N.substring(1)),r!==r&&(r=u?1/0:-1))}const C=r>n;!!u===C&&(o=mn(),vt(o),At(!1),w=!0,r=-1)}u?(i?Oe(i):y&&(i=le(()=>y(o))),s&&Le(s,()=>{s=null})):(s?Oe(s):y&&(s=le(()=>y(o,[n+1,r]))),i&&Le(i,()=>{i=null})),w&&At(!0)};Ye(()=>{d=!1,e(_),d||m(null,null)},h),R&&(o=P)}function wi(t,e){return e}function bi(t,e,n,r){for(var o=[],i=e.length,s=0;s<i;s++)Fn(e[s].e,o,!0);var u=i>0&&o.length===0&&n!==null;if(u){var h=n.parentNode;Rn(h),h.append(n),r.clear(),qt(t,e[0].prev,e[i-1].next)}Fr(o,()=>{for(var d=0;d<i;d++){var _=e[d];u||(r.delete(_.k),qt(t,_.prev,_.next)),Ct(_.e,!u)}})}function jn(t,e,n,r,o,i=null){var s=t,u={flags:e,items:new Map,first:null},h=(e&mr)!==0;if(h){var d=t;s=R?vt(Ft(d)):d.appendChild(ie())}R&&Ue();var _=null,m=!1,p=zo(()=>{var y=n();return Sn(y)?y:y==null?[]:An(y)});Ye(()=>{var y=T(p),w=y.length;if(m&&w===0)return;m=w===0;let C=!1;if(R){var N=Ar(s)===xn;N!==(w===0)&&(s=mn(),vt(s),At(!1),C=!0)}if(R){for(var D=null,q,k=0;k<w;k++){if(P.nodeType===8&&P.data===Nn){s=P,C=!0,At(!1);break}var x=y[k],M=r(x,k);q=to(P,u,D,null,x,M,k,o,e,n),u.items.set(M,q),D=q}w>0&&vt(mn())}R||yi(y,u,s,o,e,r,n),i!==null&&(w===0?_?Oe(_):_=le(()=>i(s)):_!==null&&Le(_,()=>{_=null})),C&&At(!0),T(p)}),R&&(s=P)}function yi(t,e,n,r,o,i,s){var nt,X,G,Rt;var u=(o&bo)!==0,h=(o&($n|kn))!==0,d=t.length,_=e.items,m=e.first,p=m,y,w=null,C,N=[],D=[],q,k,x,M;if(u)for(M=0;M<d;M+=1)q=t[M],k=i(q,M),x=_.get(k),x!==void 0&&((nt=x.a)==null||nt.measure(),(C??(C=new Set)).add(x));for(M=0;M<d;M+=1){if(q=t[M],k=i(q,M),x=_.get(k),x===void 0){var kt=p?p.e.nodes_start:n;w=to(kt,e,w,w===null?e.first:w.next,q,k,M,r,o,s),_.set(k,w),N=[],D=[],p=w.next;continue}if(h&&Ei(x,q,M,o),x.e.f&Dt&&(Oe(x.e),u&&((X=x.a)==null||X.unfix(),(C??(C=new Set)).delete(x))),x!==p){if(y!==void 0&&y.has(x)){if(N.length<D.length){var dt=D[0],S;w=dt.prev;var L=N[0],W=N[N.length-1];for(S=0;S<N.length;S+=1)ar(N[S],dt,n);for(S=0;S<D.length;S+=1)y.delete(D[S]);qt(e,L.prev,W.next),qt(e,w,L),qt(e,W,dt),p=dt,w=W,M-=1,N=[],D=[]}else y.delete(x),ar(x,p,n),qt(e,x.prev,x.next),qt(e,x,w===null?e.first:w.next),qt(e,w,x),w=x;continue}for(N=[],D=[];p!==null&&p.k!==k;)p.e.f&Dt||(y??(y=new Set)).add(p),D.push(p),p=p.next;if(p===null)continue;x=p}N.push(x),w=x,p=x.next}if(p!==null||y!==void 0){for(var z=y===void 0?[]:An(y);p!==null;)p.e.f&Dt||z.push(p),p=p.next;var O=z.length;if(O>0){var B=o&mr&&d===0?n:null;if(u){for(M=0;M<O;M+=1)(G=z[M].a)==null||G.measure();for(M=0;M<O;M+=1)(Rt=z[M].a)==null||Rt.fix()}bi(e,z,B,_)}}u&&Wt(()=>{var Ht;if(C!==void 0)for(x of C)(Ht=x.a)==null||Ht.apply()}),F.first=e.first&&e.first.e,F.last=w&&w.e}function Ei(t,e,n,r){r&$n&&gn(t.v,e),r&kn?gn(t.i,n):t.i=n}function to(t,e,n,r,o,i,s,u,h,d){var _=(h&$n)!==0,m=(h&yo)===0,p=_?m?Ln(o):Ae(o):o,y=h&kn?Ae(s):s,w={i:y,v:p,k:i,a:null,e:null,prev:n,next:r};try{return w.e=le(()=>u(t,p,y,d),R),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?e.first=w:(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function ar(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var s=Ot(i);o.before(i),i=s}}function qt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Je(t,e){Wt(()=>{var n=t.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+e.hash)){const o=document.createElement("style");o.id=e.hash,o.textContent=e.code,r.appendChild(o)}})}const ur=[...` 	
\r\f \v\uFEFF`];function Ci(t,e,n){var r=t==null?"":""+t;if(n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var i=o.length,s=0;(s=r.indexOf(o,s))>=0;){var u=s+i;(s===0||ur.includes(r[s-1]))&&(u===r.length||ur.includes(r[u]))?r=(s===0?"":r.substring(0,s))+r.substring(u+1):s=u}}return r===""?null:r}function cr(t,e=!1){var n=e?" !important;":";",r="";for(var o in t){var i=t[o];i!=null&&i!==""&&(r+=" "+o+": "+i+n)}return r}function un(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function $i(t,e){if(e){var n="",r,o;if(Array.isArray(e)?(r=e[0],o=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,u=!1,h=[];r&&h.push(...Object.keys(r).map(un)),o&&h.push(...Object.keys(o).map(un));var d=0,_=-1;const C=t.length;for(var m=0;m<C;m++){var p=t[m];if(u?p==="/"&&t[m-1]==="*"&&(u=!1):i?i===p&&(i=!1):p==="/"&&t[m+1]==="*"?u=!0:p==='"'||p==="'"?i=p:p==="("?s++:p===")"&&s--,!u&&i===!1&&s===0){if(p===":"&&_===-1)_=m;else if(p===";"||m===C-1){if(_!==-1){var y=un(t.substring(d,_).trim());if(!h.includes(y)){p!==";"&&m++;var w=t.substring(d,m).trim();n+=" "+w+";"}}d=m+1,_=-1}}}}return r&&(n+=cr(r)),o&&(n+=cr(o,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function He(t,e,n,r,o,i){var s=t.__className;if(R||s!==n||s===void 0){var u=Ci(n,r,i);(!R||u!==t.getAttribute("class"))&&(u==null?t.removeAttribute("class"):t.className=u),t.__className=n}else if(i&&o!==i)for(var h in i){var d=!!i[h];(o==null||d!==!!o[h])&&t.classList.toggle(h,d)}return i}function cn(t,e={},n,r){for(var o in n){var i=n[o];e[o]!==i&&(n[o]==null?t.style.removeProperty(o):t.style.setProperty(o,i,r))}}function Ke(t,e,n,r){var o=t.__style;if(R||o!==e){var i=$i(e,r);(!R||i!==t.getAttribute("style"))&&(i==null?t.removeAttribute("style"):t.style.cssText=i),t.__style=e}else r&&(Array.isArray(r)?(cn(t,n==null?void 0:n[0],r[0]),cn(t,n==null?void 0:n[1],r[1],"important")):cn(t,n,r));return r}const ki=Symbol("is custom element"),Ti=Symbol("is html");function xi(t){if(R){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;xt(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var o=t.checked;xt(t,"checked",null),t.checked=o}}};t.__on_r=n,Qo(n),Yr()}}function Ni(t,e){var n=eo(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function xt(t,e,n,r){var o=eo(t);R&&(o[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||o[e]!==(o[e]=n)&&(e==="loading"&&(t[Mo]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Si(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function eo(t){return t.__attributes??(t.__attributes={[ki]:t.nodeName.includes("-"),[Ti]:t.namespaceURI===$o})}var fr=new Map;function Si(t){var e=fr.get(t.nodeName);if(e)return e;fr.set(t.nodeName,e=[]);for(var n,r=t,o=Element.prototype;o!==r;){n=To(r);for(var i in n)n[i].set&&e.push(i);r=_r(r)}return e}function Ai(t,e,n=e){Gr(t,"input",r=>{var o=r?t.defaultValue:t.value;if(o=dn(t)?hn(o):o,n(o),o!==(o=e())){var i=t.selectionStart,s=t.selectionEnd;t.value=o??"",s!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(s,t.value.length))}}),(R&&t.defaultValue!==t.value||Hn(e)==null&&t.value)&&n(dn(t)?hn(t.value):t.value),We(()=>{var r=e();dn(t)&&r===hn(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}const fn=new Set;function Di(t,e,n,r,o=r){var i=n.getAttribute("type")==="checkbox",s=t;let u=!1;if(e!==null)for(var h of e)s=s[h]??(s[h]=[]);s.push(n),Gr(n,"change",()=>{var d=n.__value;i&&(d=dr(s,d,n.checked)),o(d)},()=>o(i?[]:null)),We(()=>{var d=r();if(R&&n.defaultChecked!==n.checked){u=!0;return}i?(d=d||[],n.checked=d.includes(n.__value)):n.checked=Vo(n.__value,d)}),qn(()=>{var d=s.indexOf(n);d!==-1&&s.splice(d,1)}),fn.has(s)||(fn.add(s),Wt(()=>{s.sort((d,_)=>d.compareDocumentPosition(_)===4?-1:1),fn.delete(s)})),Wt(()=>{if(u){var d;if(i)d=dr(s,d,n.checked);else{var _=s.find(m=>m.checked);d=_==null?void 0:_.__value}o(d)}})}function dr(t,e,n){for(var r=new Set,o=0;o<t.length;o+=1)t[o].checked&&r.add(t[o].__value);return n||r.delete(e),Array.from(r)}function dn(t){var e=t.type;return e==="number"||e==="range"}function hn(t){return t===""?null:+t}function hr(t,e){return t===e||(t==null?void 0:t[re])===e}function yn(t={},e,n,r){return Pn(()=>{var o,i;return We(()=>{o=i,i=[],Hn(()=>{t!==n(...i)&&(e(t,...i),o&&hr(n(...o),t)&&e(null,...o))})}),()=>{Wt(()=>{i&&hr(n(...i),t)&&e(null,...i)})}}),t}function vr(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function we(t,e,n,r){var o;o=t[e];var i=r,s=!0,u=!1,h=()=>(u=!0,s&&(s=!1,i=r),i),d;d=()=>{var y=t[e];return y===void 0?h():(s=!0,u=!1,y)};var _=!1,m=Ln(o),p=Mn(()=>{var y=d(),w=T(m);return _?(_=!1,w):m.v=y});return function(y,w){if(arguments.length>0){const C=w?T(p):y;if(!p.equals(C)){if(_=!0,j(m,C),u&&i!==void 0&&(i=C),vr(p))return y;Hn(()=>T(p))}return y}return vr(p)?p.v:T(p)}}function Mi(t){return new Li(t)}var Nt,ft;class Li{constructor(e){on(this,Nt);on(this,ft);var i;var n=new Map,r=(s,u)=>{var h=Ln(u);return n.set(s,h),h};const o=new Proxy({...e.props||{},$$events:{}},{get(s,u){return T(n.get(u)??r(u,Reflect.get(s,u)))},has(s,u){return u===Do?!0:(T(n.get(u)??r(u,Reflect.get(s,u))),Reflect.has(s,u))},set(s,u,h){return j(n.get(u)??r(u,h),h),Reflect.set(s,u,h)}});ln(this,ft,(e.hydrate?gi:Zr)(e.component,{target:e.target,anchor:e.anchor,props:o,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((i=e==null?void 0:e.props)!=null&&i.$$host)||e.sync===!1)&&ce(),ln(this,Nt,o.$$events);for(const s of Object.keys(Q(this,ft)))s==="$set"||s==="$destroy"||s==="$on"||xe(this,s,{get(){return Q(this,ft)[s]},set(u){Q(this,ft)[s]=u},enumerable:!0});Q(this,ft).$set=s=>{Object.assign(o,s)},Q(this,ft).$destroy=()=>{mi(Q(this,ft))}}$set(e){Q(this,ft).$set(e)}$on(e,n){Q(this,Nt)[e]=Q(this,Nt)[e]||[];const r=(...o)=>n.call(this,...o);return Q(this,Nt)[e].push(r),()=>{Q(this,Nt)[e]=Q(this,Nt)[e].filter(o=>o!==r)}}$destroy(){Q(this,ft).$destroy()}}Nt=new WeakMap,ft=new WeakMap;let no;typeof HTMLElement=="function"&&(no=class extends HTMLElement{constructor(e,n,r){super();ht(this,"$$ctor");ht(this,"$$s");ht(this,"$$c");ht(this,"$$cn",!1);ht(this,"$$d",{});ht(this,"$$r",!1);ht(this,"$$p_d",{});ht(this,"$$l",{});ht(this,"$$l_u",new Map);ht(this,"$$me");this.$$ctor=e,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(e,n,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const o=this.$$c.$on(e,n);this.$$l_u.set(n,o)}super.addEventListener(e,n,r)}removeEventListener(e,n,r){if(super.removeEventListener(e,n,r),this.$$c){const o=this.$$l_u.get(n);o&&(o(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(o){return i=>{const s=document.createElement("slot");o!=="default"&&(s.name=o),st(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},r=Oi(this);for(const o of this.$$s)o in r&&(o==="default"&&!this.$$d.children?(this.$$d.children=e(o),n.default=!0):n[o]=e(o));for(const o of this.attributes){const i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=ke(i,o.value,this.$$p_d,"toProp"))}for(const o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=Mi({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=Or(()=>{We(()=>{var o;this.$$r=!0;for(const i of Te(this.$$c)){if(!((o=this.$$p_d[i])!=null&&o.reflect))continue;this.$$d[i]=this.$$c[i];const s=ke(i,this.$$d[i],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,s)}this.$$r=!1})});for(const o in this.$$l)for(const i of this.$$l[o]){const s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(e,n,r){var o;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ke(e,r,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return Te(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function ke(t,e,n,r){var i;const o=(i=n[t])==null?void 0:i.type;if(e=o==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!n[t])return e;if(r==="toAttribute")switch(o){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(o){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Oi(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}function be(t,e,n,r,o,i){let s=class extends no{constructor(){super(t,n,o),this.$$p_d=e}static get observedAttributes(){return Te(e).map(u=>(e[u].attribute||u).toLowerCase())}};return Te(e).forEach(u=>{xe(s.prototype,u,{get(){return this.$$c&&u in this.$$c?this.$$c[u]:this.$$d[u]},set(h){var m;h=ke(u,h,e),this.$$d[u]=h;var d=this.$$c;if(d){var _=(m=ne(d,u))==null?void 0:m.get;_?d[u]=h:d.$set({[u]:h})}}})}),r.forEach(u=>{xe(s.prototype,u,{get(){var h;return(h=this.$$c)==null?void 0:h[u]}})}),t.element=s,s}const Mt=new Map([["yellow","#F8B920"],["red","#FF4646"],["blue","#0064FF"],["green","#00C564"]]),Ri=["SCRIPT","STYLE","NOSCRIPT","TEXTAREA","OPTION"];function Bn(t){const e=document.documentElement.lang||void 0,n=t.map(s=>[...s.trim().toLocaleLowerCase(e)].filter(u=>u.trim())),r=n.map(()=>({start:null,end:null,i:0})),o=n.map(()=>[]);function i(s){var d;const u=document.createNodeIterator(s,NodeFilter.SHOW_TEXT,_=>{var y,w;const m=(y=_.parentNode)==null?void 0:y.tagName,p=(w=_.parentNode)==null?void 0:w.contentEditable;return m&&Ri.includes(m)||p==="true"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT});let h;for(;h=u.nextNode();){const _=h.nodeValue;for(let m=0;m<_.length;m++){const p=_[m].toLocaleLowerCase(e).trim();if(p)for(let y=0;y<n.length;y++){const w=n[y];let C=r[y];if(p===w[C.i]){if(C.i===0&&(C.start=[h,m]),C.end=[h,m],C.i++,C.i===w.length){const N=document.createRange();N.setStart(C.start[0],C.start[1]),N.setEnd(C.end[0],C.end[1]+1);const D=N.commonAncestorContainer.parentElement;!N.collapsed&&(((d=D==null?void 0:D.checkVisibility)==null?void 0:d.call(D))??!0)?o[y].push(N):N.detach(),C.i=0,C.start=C.end=null}}else C.i=0,C.start=C.end=null}}}if(s instanceof Element||s instanceof DocumentFragment)for(const _ of s.querySelectorAll("*"))_.shadowRoot&&i(_.shadowRoot)}return i(document.body),o}const Ut=`rh-${new Date().getTime()}-`,Ze="highlights"in CSS;function qi(t){if(!t.length&&!CSS.highlights.size)return;const e=[];if(CSS.highlights.clear(),t.length){const r=Bn(t.map(({text:o})=>o||""));for(const o in t){const i=r[o];if(!i.length)continue;const{_id:s,color:u,note:h,position:d=0}=t[o],_=`${Ut}${s}`,m=(i==null?void 0:i[d])||i[0];CSS.highlights.set(_,new Highlight(m));const p=m.getBoundingClientRect();e.push(`
                ::highlight(${_}) {
                    all: unset;
                    background-color: color-mix(in srgb, ${Mt.get(u)||u||"yellow"}, white 60%) !important;
                    color: color-mix(in srgb, ${Mt.get(u)||u||"yellow"}, black 80%) !important;
                    ${h?"text-decoration: underline wavy; -webkit-text-decoration: underline wavy;":""}
                    text-decoration-thickness: from-font;
                }

                /* fuck you dark reader */
                html[data-darkreader-scheme="dark"] ::highlight(${_}) {
                    color: CanvasText !important;
                }

                /* pdf render */
                .pdf ::highlight(${_}) {
                    background-color: color-mix(in srgb, ${Mt.get(u)||u||"yellow"}, transparent 60%) !important;
                    color: transparent !important;
                }

                :root {
                    --highlight-${s}-top: ${(100/document.documentElement.scrollHeight*(window.scrollY+p.top-10)).toFixed(2)}%;
                }
            `);for(const y of i)y.detach()}}const n=(()=>{let r=document.getElementById(Ut);return r||(r=document.createElement("style"),r.id=Ut,document.head.appendChild(r)),r})();n.innerHTML=e.join(`
`)}function Pi(){var t;(t=document.getElementById(Ut))==null||t.remove()}function Fi(t){var e;for(const[n,r]of CSS.highlights){const o=n.replace(Ut,"");if(t==o)for(const i of r){(e=i.startContainer.parentElement)==null||e.scrollIntoView({behavior:"smooth",block:"start"});break}}}function Ii(t){let e;for(const[n,r]of CSS.highlights)for(const o of r){const i=t.compareBoundaryPoints(Range.START_TO_START,o),s=t.compareBoundaryPoints(Range.END_TO_END,o);(i==0&&s==0||t!=null&&t.collapsed&&i>=0&&s<=0)&&(e=[n.replace(Ut,""),o])}if(e)return e[0].replace(Ut,"")}const St=`rh-${new Date().getTime()}`;function Hi(t){const e=document.body.querySelectorAll(`.${St}`);if(!t.length&&!e.length)return;e.forEach(i=>i.outerHTML=i.innerText);const n=[],r=Bn(t.map(({text:i})=>i||""));for(const i in t){const{_id:s,color:u}=t[i];for(const h of r[i]){const d=document.createElement("mark");d.className=St,d.setAttribute("data-id",String(s)),d.append(h.extractContents()),h.insertNode(d),h.detach()}n.push(`
            .${St}[data-id="${s}"] {
                all: unset;
                display: inline-block !important;
                background-color: white !important;
                background-image: linear-gradient(to bottom, ${pr(Mt.get(u)||u,.4)} 0, ${pr(Mt.get(u)||u,.4)} 100%) !important;
                color: black !important;
            }
        `)}const o=(()=>{let i=document.getElementById(St);return i||(i=document.createElement("style"),i.id=St,document.head.appendChild(i)),i})();o.innerHTML=n.join(`
`)}function ji(){var t;document.body.querySelectorAll(`.${St}`).forEach(e=>e.outerHTML=e.innerText),(t=document.getElementById(St))==null||t.remove()}function Bi(t){const e=document.body.querySelector(`.${St}[data-id="${t}"]`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}function Vi(t){const e=t.commonAncestorContainer.nodeType==Node.ELEMENT_NODE?t.commonAncestorContainer:t.commonAncestorContainer.parentElement;if((e==null?void 0:e.className)==St){if(!t.collapsed){const n=new Range;n.selectNodeContents(t.commonAncestorContainer);const r=t.compareBoundaryPoints(Range.START_TO_START,n),o=t.compareBoundaryPoints(Range.END_TO_END,n);if(n.detach(),r!=0||o!=0)return}return e.getAttribute("data-id")||void 0}}function pr(t,e){if(!t)return t;const n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return`rgba(${n}, ${r}, ${o}, ${e})`}function zi(t){return Ze?qi(t):Hi(t)}function vn(t){return zi(t)}function Ui(){return Ze?Pi():ji()}function ro(t){return Ze?Fi(t):Bi(t)}function En(){var n,r,o;const t=document.getSelection();if(!(t!=null&&t.rangeCount))return;const e=t.getRangeAt(0);if(!((o=((n=e==null?void 0:e.commonAncestorContainer)==null?void 0:n.nodeType)==1?e==null?void 0:e.commonAncestorContainer:(r=e==null?void 0:e.commonAncestorContainer)==null?void 0:r.parentElement)!=null&&o.closest('[contenteditable=""], [contenteditable=true]')))return e}function te(){const t=document.getSelection();t!=null&&t.rangeCount&&t.removeAllRanges()}function Wi(t){return Ze?Ii(t):Vi(t)}function oo(t){if(!t)return"";var e=document.createElement("div");e.appendChild(t.cloneContents().cloneNode(!0)),e.querySelectorAll("tspan").forEach(r=>r.outerHTML=`<span>${r.innerHTML}</span>`),e.querySelectorAll("text").forEach(r=>r.outerHTML=`<div>${r.innerHTML}</div>`),document.body.appendChild(e);const n=e.innerText;return document.body.removeChild(e),e=void 0,n}function Yi(t){if(!t)return;const e=oo(t);if(!e)return;const[n]=Bn([e]),r=n.findIndex(o=>{const i=o.compareBoundaryPoints(Range.START_TO_START,t),s=o.compareBoundaryPoints(Range.END_TO_END,t);return i==0&&s==0||(t==null?void 0:t.collapsed)&&i>=0&&s<=0});return r==-1?void 0:r}function Xi(t,e,n){let r=Y(Bt([])),o=Y(!1),i=Y(!1),s=Y(!1),u=Y(void 0);function h(w){const C=Wi(w);if(C)return T(r).find(D=>D._id==C);const N=oo(w).trim();if(N)return{text:N,position:Yi(w)}}function d(w){const C={...typeof w._id=="string"?{_id:w._id}:{},...typeof w.text=="string"?{text:w.text}:{},...typeof w.note=="string"?{note:w.note}:{},...typeof w.position=="number"?{position:w.position}:{},color:w.color||"yellow"};if(!C.text)return;const N=T(r).findIndex(D=>{var q,k;return D._id==C._id||((q=D.text)==null?void 0:q.toLocaleLowerCase().trim())===((k=C.text)==null?void 0:k.toLocaleLowerCase().trim())});N!=-1?(C._id=T(r)[N]._id,T(r)[N]=C,e(C)):(T(r).push(C),t(C))}function _({_id:w}){j(r,T(r).filter(C=>C._id!=w),!0),n({_id:w})}function m(w){j(u,JSON.parse(JSON.stringify(w)),!0)}function p(){T(u)&&(d(T(u)),j(u,void 0))}function y(){j(u,void 0)}return{get highlights(){return T(r)},set highlights(w){j(r,w,!0)},get pro(){return T(i)},set pro(w){j(i,w,!0)},get nav(){return T(s)},set nav(w){j(s,w,!0)},get hide_new_toolbar(){return T(o)},set hide_new_toolbar(w){j(o,w,!0)},get draft(){return T(u)},find:h,upsert:d,remove:_,setDraft:m,draftSubmit:p,draftCancel:y}}const Gi="5";var gr;typeof window<"u"&&((gr=window.__svelte??(window.__svelte={})).v??(gr.v=new Set)).add(Gi);function Ji(t,e){let n=null,r=!0;return function(...i){n||(r?(t(...i),r=!1):(clearTimeout(n),n=setTimeout(()=>{t(...i),clearTimeout(n),n=null},e)))}}function Cn(){var t;return(t=navigator==null?void 0:navigator.userAgentData)!=null&&t.mobile?!0:/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)}var Ki=mt('<button type="submit" class="svelte-1rsw1q7"><span></span></button>'),Zi=mt('<button type="submit" value="remove" title="Delete highlight" aria-label="Delete highlight" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><line x1="2.75" y1="4.25" x2="15.25" y2="4.25" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></line><path d="M6.75,4.25v-1.5c0-.552,.448-1,1-1h2.5c.552,0,1,.448,1,1v1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path><path d="M13.5,6.75l-.4,7.605c-.056,1.062-.934,1.895-1.997,1.895H6.898c-1.064,0-1.941-.833-1.997-1.895l-.4-7.605" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path></g></svg></button>'),Qi=mt('<dialog><form method="dialog" class="svelte-1rsw1q7"><!> <button type="submit" value="note" title="Add note" aria-label="Add note" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><path stroke-linecap="round" stroke-linejoin="round" d="M9,1.75C4.996,1.75,1.75,4.996,1.75,9c0,1.319,.358,2.552,.973,3.617,.43,.806-.053,2.712-.973,3.633,1.25,.068,2.897-.497,3.633-.973,.489,.282,1.264,.656,2.279,.848,.433,.082,.881,.125,1.338,.125,4.004,0,7.25-3.246,7.25-7.25S13.004,1.75,9,1.75Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M9,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M5.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M12.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path></g></svg></button> <!></form></dialog>');const tl={hash:"svelte-1rsw1q7",code:`.svelte-1rsw1q7 {user-select:none;-webkit-user-select:none;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-1rsw1q7 {transform-origin:0 0;transform:scale(var(--mobile-zoom-level, 1));--control-size: 16px;--padding-s: 6px;--padding-m: 8px;--bg-light: rgb(255, 255, 255);--bg-dark: rgb(60, 60, 60);--control-fg-light: rgb(65, 65, 65);--control-fg-dark: rgb(230, 230, 230);--hover-bg-light: rgba(0,0,0,.07);--hover-bg-dark: rgba(255,255,255,.1);--active-bg-light: rgba(0,0,0,.13);--active-bg-dark: rgba(255,255,255,.2);}

    /* Safari iOS fix position bug */
    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {transform-origin:top right;}
    }

    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {--bg-light: rgba(255, 255, 255, .8);--bg-dark: rgba(60, 60, 60, .8);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);}
    }dialog.mobile.svelte-1rsw1q7 {--control-size: 26px;}dialog.svelte-1rsw1q7 {position:absolute;left:unset;top:unset;right:unset;bottom:unset;border:none;padding:2px;border-radius:var(--control-size);overflow:clip;z-index:999999999999999;background:var(--bg-light);color:var(--control-fg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));color:light-dark(var(--control-fg-light), var(--control-fg-dark));
        }}

    /* dialog.mobile.new {
        position: fixed;
        top: auto !important;
        left: auto !important;
        right: 16px !important;
        bottom: 16px !important;
        margin-right: env(safe-area-inset-right);
        margin-bottom: env(safe-area-inset-bottom);
    } */[open].svelte-1rsw1q7 {box-shadow:0 0 0 .5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.05), 0 15px 40px rgba(0,0,0,.1);}form.svelte-1rsw1q7 {display:flex;gap:2px;margin:0;padding:0;}button.svelte-1rsw1q7 {border-radius:var(--control-size);border:0;background:transparent;cursor:pointer;appearance:none;touch-action:manipulation;width:calc(var(--control-size) + var(--padding-s)*2);height:calc(var(--control-size) + var(--padding-s)*2);padding:var(--padding-s);color:inherit;display:flex;align-items:center;justify-content:center;transition:background .15s ease-in-out;}

    @media (pointer: fine) {button.svelte-1rsw1q7:hover {transition:none;background:var(--hover-bg-light);

            @supports(color: light-dark(white,black)) {background:light-dark(var(--hover-bg-light), var(--hover-bg-dark));
            }}
    }button.svelte-1rsw1q7:active {transition:none;background:var(--active-bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--active-bg-light), var(--active-bg-dark));
        }}svg.svelte-1rsw1q7 {stroke:currentColor;stroke-width:1.5px;}.color.svelte-1rsw1q7 {pointer-events:none;content:'';display:block;width:15px;height:15px;background:var(--color);transition:background .15s ease-in-out, box-shadow .15s ease-in-out;border-radius:50%;}.color.active.svelte-1rsw1q7 {background:transparent;box-shadow:inset 0 0 0 5px var(--color);}

    /* animation */dialog.svelte-1rsw1q7 {transition:display .25s allow-discrete ease-in-out, 
            overlay .25s allow-discrete ease-in-out, 
            box-shadow .25s allow-discrete ease-in-out, 
            opacity .25s ease-in-out;opacity:0;}[open].svelte-1rsw1q7 {opacity:1;}dialog.svelte-1rsw1q7:not([open]) {transition-duration:.2s;pointer-events:none;}

    @starting-style {[open].svelte-1rsw1q7 {opacity:0;}
    }`};function io(t,e){se(e,!0),Je(t,tl);let n=we(e,"store"),r,o=Y(void 0),i=Y(!1);function s(S){if(!T(o))return;const L=S.currentTarget.returnValue;switch(S.currentTarget.returnValue="",L){case"add":n().upsert(T(o)),te();break;case"note":n().setDraft(T(o)),te();break;case"remove":n().remove(T(o)),te();break;default:if(Mt.has(L)){n().upsert({...T(o),color:L}),te();return}break}}function u(){j(i,!0)}function h(){j(i,!1),setTimeout(d)}function d(){if(T(i)){r==null||r.close();return}requestAnimationFrame(()=>{const S=En(),L=S&&n().find(S);if(!S||!(L!=null&&L._id)&&!S.toString().trim()||!(L!=null&&L._id)&&n().hide_new_toolbar){r==null||r.close();return}j(o,L,!0),r.inert=!0,r==null||r.show(),r.inert=!1;const W=256,z=10,O=S.getBoundingClientRect(),B=Math.min(Math.max(O.x,z)+window.scrollX,window.innerWidth+window.scrollX-W-z),nt=Math.min(window.innerWidth-Math.max(O.x,z)-window.scrollX-O.width,window.innerWidth-window.scrollX-W-z),X=Math.max(O.y,40)+window.scrollY+O.height+4;window.innerHeight-Math.max(O.y,40)-window.scrollY+4;const G=B<window.innerWidth/2+window.scrollX;r==null||r.style.setProperty("left",G?`${B}px`:"unset"),r==null||r.style.setProperty("right",G?"unset":`${nt}px`),r==null||r.style.setProperty("top",`${X}px`),r==null||r.style.setProperty("bottom","unset")})}const _=Ji(d,200);var m=Qi();bt("mousedown",jt,u),bt("touchstart",jt,u,void 0,!0),bt("mouseup",jt,h),bt("touchend",jt,h),bt("touchcancel",jt,h),bt("selectionchange",jt,_);let p;var y=it(m),w=it(y);jn(w,17,()=>Mt,([S,L])=>S,(S,L)=>{let W=()=>T(L)[0],z=()=>T(L)[1];var O=Ki(),B=it(O);let nt;K(O),Vt(X=>{xt(O,"aria-label",W()),Ni(O,W()),nt=He(B,1,"color svelte-1rsw1q7",null,nt,X),Ke(B,`--color: ${z()??""}`)},[()=>{var X;return{active:W()==((X=T(o))==null?void 0:X.color)}}]),st(S,O)});var C=lt(w,2),N=it(C),D=it(N),q=it(D),k=lt(q),x=lt(k),M=lt(x);K(D),K(N),K(C);var kt=lt(C,2);{var dt=S=>{var L=Zi();st(S,L)};Ie(kt,S=>{var L;(L=T(o))!=null&&L._id&&S(dt)})}return K(y),K(m),yn(m,S=>r=S,()=>r),Vt(S=>{var L,W,z,O,B;p=He(m,1,"svelte-1rsw1q7",null,p,S),xt(q,"fill",(L=T(o))!=null&&L.note?"currentColor":"none"),xt(q,"stroke-width",(W=T(o))!=null&&W.note?"0":void 0),xt(k,"fill",(z=T(o))!=null&&z.note?"none":"currentColor"),xt(x,"fill",(O=T(o))!=null&&O.note?"none":"currentColor"),xt(M,"fill",(B=T(o))!=null&&B.note?"none":"currentColor")},[()=>{var S;return{new:!((S=T(o))!=null&&S._id),mobile:Cn()}}]),bt("close",m,s),st(t,m),ae({get store(){return n()},set store(S){n(S),ce()}})}be(io,{store:{}},[],[],!0);function el(t){const e=t.currentTarget.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||(t.preventDefault(),t.currentTarget.close())}var nl=(t,e)=>j(e,!1),rl=mt('<input type="radio" name="color" class="svelte-ub8p4v"/>'),ol=mt('<div class="unlock svelte-ub8p4v"><a href="https://raindrop.io/pro/buy" target="_blank" class="svelte-ub8p4v">Upgrade to Pro</a> to unlock annotation</div>'),il=mt('<blockquote role="presentation"> </blockquote> <fieldset class="color svelte-ub8p4v"></fieldset> <textarea class="note svelte-ub8p4v" rows="4" maxlength="5000" placeholder="Notes (optional)"></textarea> <!>',1),ll=mt('<dialog><header class="svelte-ub8p4v"> </header> <form method="dialog" class="svelte-ub8p4v"><!> <footer class="svelte-ub8p4v"><button formnovalidate="" class="svelte-ub8p4v">Cancel <sup class="svelte-ub8p4v">esc</sup></button> <button type="submit" value="OK" class="svelte-ub8p4v"> <sup class="svelte-ub8p4v">&crarr;</sup></button></footer></form></dialog>');const sl={hash:"svelte-ub8p4v",code:`.svelte-ub8p4v {box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-ub8p4v {transform:scale(var(--mobile-zoom-level, 1));--bg-light: rgb(245, 245, 245);--bg-dark: rgb(35, 35, 35);--fg-light: black;--fg-dark: white;--control-bg-light: rgb(230, 230, 230);--control-bg-dark: rgb(55, 55, 55);font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;font-size:18px;line-height:1.4;border:none;border-radius:.5em;padding:0;overscroll-behavior:none;color:var(--fg-light);

        @supports(color: light-dark(white,black)) {color:light-dark(var(--fg-light), var(--fg-dark));
        }}dialog.mobile.svelte-ub8p4v {left:0;right:0;bottom:0;top:0;width:100%;margin:0;max-width:100%;max-height:100%;border-radius:0;bottom:auto;}dialog.svelte-ub8p4v, header.svelte-ub8p4v {background:var(--bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));
        }}[open].svelte-ub8p4v {box-shadow:0 0 0 .5px rgba(60, 60, 60, .9), 0 3px 10px rgba(0,0,0,.05), 0 7px 15px -3px rgba(0,0,0,.15);}.svelte-ub8p4v::backdrop {background-color:rgba(0,0,0,.3);}header.svelte-ub8p4v {margin:0;padding:1em;font-weight:bold;position:sticky;top:0;}

    @supports(animation-timeline: scroll()) {header.svelte-ub8p4v {
            animation: svelte-ub8p4v-header-scroll linear both;animation-timeline:scroll();animation-range:0 1px;}
    }

    @keyframes svelte-ub8p4v-header-scroll {
        to {
            box-shadow: 0 .5px 0 rgba(0,0,0,.2);
        }
    }form.svelte-ub8p4v {display:flex;flex-direction:column;gap:1em;padding:1em;padding-top:0;}.color.svelte-ub8p4v {all:unset;display:flex;gap:.75em;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v) {cursor:pointer;appearance:none;user-select:none;-webkit-user-select:none;margin:0;background:var(--color);transition:box-shadow .2s ease-in-out, background .2s ease-in-out;width:2em;height:2em;border-radius:50%;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):checked {background:transparent;box-shadow:inset 0 0 0 .5em var(--color);}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):active {transform:translateY(1px);}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v, button.svelte-ub8p4v {background:var(--control-bg-light);

        @supports(color: light-dark(white,black)) {background:light-dark(var(--control-bg-light), var(--control-bg-dark));
        }}blockquote.svelte-ub8p4v {white-space:pre-wrap;margin:0;min-width:100%;width:0;font-size:16px;}blockquote.compact.svelte-ub8p4v {white-space:nowrap;text-overflow:ellipsis;overflow:hidden;overflow:clip;}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v {border-radius:.5em;padding:.5em .6em;}.note.svelte-ub8p4v {min-width:min(21em, 70vw);min-height:4lh;appearance:none;border:0;font:inherit;color:inherit;display:block;scroll-margin-top:100vh;transition:background .15s ease-in-out, box-shadow .15s ease-in-out;}.note.svelte-ub8p4v:focus {background:transparent;}footer.svelte-ub8p4v {all:unset;display:flex;justify-content:flex-end;gap:.75em;}button.svelte-ub8p4v {appearance:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;border:0;font:inherit;color:inherit;cursor:pointer;padding:.25em .75em;border-radius:.5em;}button.svelte-ub8p4v:active {transform:translateY(1px);}button.svelte-ub8p4v sup:where(.svelte-ub8p4v) {margin-left:.25em;vertical-align:text-top;opacity:.5;}dialog.mobile.svelte-ub8p4v button:where(.svelte-ub8p4v) sup:where(.svelte-ub8p4v) {display:none;}button[value].svelte-ub8p4v {background:blue;background:AccentColor;color:white;}.unlock.svelte-ub8p4v {font-size:.75em;color:GrayText;}

    /* animation */dialog.svelte-ub8p4v, .svelte-ub8p4v::backdrop {transition:display .2s allow-discrete ease-in-out, 
            overlay .2s allow-discrete ease-in-out, 
            opacity .2s ease-in-out,
            box-shadow .2s ease-in-out;opacity:0;}[open].svelte-ub8p4v,
    [open].svelte-ub8p4v::backdrop {opacity:1;}

    @starting-style {[open].svelte-ub8p4v,
        [open].svelte-ub8p4v::backdrop {opacity:0;}
    }

    @supports not selector(::highlight(a)) {dialog.svelte-ub8p4v, dialog.svelte-ub8p4v::backdrop {
            animation: svelte-ub8p4v-simple-appear .2s forwards;}
        @keyframes svelte-ub8p4v-simple-appear {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    }`};function lo(t,e){se(e,!0),Je(t,sl);const n=[];let r=we(e,"store"),o,i,s=Y(!0);Me(()=>{r().draft?(j(s,!0),o==null||o.showModal()):o==null||o.close()});function u(k){const x=k.currentTarget.returnValue;k.currentTarget.returnValue="",setTimeout(x?r().draftSubmit:r().draftCancel,200)}function h(k){var x;Cn()||(k.stopImmediatePropagation(),k.stopPropagation(),k.key=="Enter"&&!k.shiftKey&&(k.preventDefault(),i&&((x=k.currentTarget.closest("form"))==null||x.requestSubmit(i))))}var d=ll();d.__mousedown=[el];let _;var m=it(d),p=it(m);K(m);var y=lt(m,2),w=it(y);{var C=k=>{var x=il(),M=On(x);M.__click=[nl,s];let kt;var dt=it(M,!0);K(M);var S=lt(M,2);jn(S,21,()=>Mt,wi,(O,B)=>{let nt=()=>T(B)[0],X=()=>T(B)[1];var G=rl();xi(G);var Rt;Vt(()=>{Rt!==(Rt=nt())&&(G.value=(G.__value=nt())??""),Ke(G,`--color: ${X()??""}`)}),Di(n,[],G,()=>(nt(),r().draft.color),Ht=>r().draft.color=Ht),st(O,G)}),K(S);var L=lt(S,2);ci(L),ui(L),L.__keydown=h;var W=lt(L,2);{var z=O=>{var B=ol();st(O,B)};Ie(W,O=>{r().pro||O(z)})}Vt((O,B)=>{kt=He(M,1,"svelte-ub8p4v",null,kt,O),an(dt,B),L.disabled=!r().pro},[()=>({compact:T(s)}),()=>{var O,B;return((B=(O=r().draft)==null?void 0:O.text)==null?void 0:B.trim())||""}]),Ai(L,()=>r().draft.note,O=>r().draft.note=O),st(k,x)};Ie(w,k=>{r().draft&&k(C)})}var N=lt(w,2),D=lt(it(N),2),q=it(D);return Wo(),K(D),yn(D,k=>i=k,()=>i),K(N),K(y),K(d),yn(d,k=>o=k,()=>o),Vt(k=>{var x,M;_=He(d,1,"svelte-ub8p4v",null,_,k),an(p,`${(x=r().draft)!=null&&x._id?"Edit":"New"} highlight`),an(q,`${(M=r().draft)!=null&&M._id?"Update":"Create"} `)},[()=>({mobile:Cn()})]),bt("close",d,u),st(t,d),ae({get store(){return r()},set store(k){r(k),ce()}})}Kr(["mousedown","click","keydown"]);be(lo,{store:{}},[],[],!0);const al=t=>{const e=t.target.getAttribute("data-highlight");e&&(t.preventDefault(),ro(e))};var ul=mt('<div class="svelte-rwfy02"></div>'),cl=mt('<nav role="presentation" class="svelte-rwfy02"></nav>');const fl={hash:"svelte-rwfy02",code:"nav.svelte-rwfy02 {all:unset;}div.svelte-rwfy02 {position:fixed;right:0;width:24px;height:20px;display:flex;justify-content:flex-end;align-items:center;cursor:pointer;background:transparent;z-index:99999999999999;}div.svelte-rwfy02::before {content:'';display:block;height:3px;border-radius:3px;width:16px;background:var(--color);transition:width .15s ease-in-out;}div.svelte-rwfy02:hover::before {width:100%;}"};function so(t,e){se(e,!0),Je(t,fl);let n=we(e,"store");var r=hi(),o=On(r);{var i=s=>{var u=cl();u.__click=[al],jn(u,21,()=>n().highlights,h=>h._id,(h,d)=>{var _=ul();Vt(m=>{xt(_,"data-highlight",T(d)._id),Ke(_,`top: var(--highlight-${T(d)._id??""}-top); --color: ${m??""}`)},[()=>Mt.get(T(d).color)||T(d).color]),st(h,_)}),K(u),st(s,u)};Ie(o,s=>{n().nav&&s(i)})}return st(t,r),ae({get store(){return n()},set store(s){n(s),ce()}})}Kr(["click"]);be(so,{store:{}},[],[],!0);var dl=mt('<div class="svelte-1qyoyb3"><!></div>');const hl={hash:"svelte-1qyoyb3",code:"div.svelte-1qyoyb3 {display:contents;}"};function ao(t,e){se(e,!0),Je(t,hl);let n=we(e,"children"),r=Y(1);Me(()=>{var h;function u(){var d;j(r,1/(((d=window.visualViewport)==null?void 0:d.scale)||1))}return(h=window.visualViewport)==null||h.addEventListener("resize",u),()=>{var d;return(d=window.visualViewport)==null?void 0:d.removeEventListener("resize",u)}});var o=dl();let i;var s=it(o);return _i(s,()=>n()??wr),K(o),Vt(()=>i=Ke(o,"",i,{"--mobile-zoom-level":T(r)})),st(t,o),ae({get children(){return n()},set children(u){n(u),ce()}})}be(ao,{children:{}},[],[],!0);var vl=mt("<!> <!> <!>",1);function pl(t,e){se(e,!0);let n=we(e,"store");Me(()=>{vn(n().highlights)});let r;function o(){vn(n().highlights),clearTimeout(r),r=setTimeout(()=>vn(n().highlights),3e3)}return Or(()=>{document.readyState&&o()}),Me(()=>Ui),bt("load",De,o),bt("popstate",De,o),ao(t,{children:(i,s)=>{var u=vl(),h=On(u);io(h,{get store(){return n()}});var d=lt(h,2);lo(d,{get store(){return n()}});var _=lt(d,2);so(_,{get store(){return n()}}),st(i,u)},$$slots:{default:!0}}),ae({get store(){return n()},set store(i){n(i),ce()}})}customElements.define("rdh-ui",be(pl,{store:{}},[],[],!0));function gl(t){if(typeof chrome=="object"&&chrome.runtime&&chrome.runtime.onMessage||typeof browser=="object"&&browser.runtime&&browser.runtime.onMessage){const{runtime:e}=typeof browser=="object"?browser:chrome,n=(r,o)=>{o.id==e.id&&typeof r.type=="string"&&t(r)};return e.onMessage.removeListener(n),e.onMessage.addListener(n),r=>e.sendMessage(null,r)}if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.rdh)return window.rdhSend=t,e=>window.webkit.messageHandlers.rdh.postMessage(e);if(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron){const{ipcRenderer:e}=require("electron"),n=(r,o)=>t(o);return e.removeListener("RDH",n),e.on("RDH",n),r=>e.sendToHost("RDH",r)}if("ReactNativeWebView"in window)return window.ReactNativeWebViewSendMessage=t,e=>window.ReactNativeWebView.postMessage(JSON.stringify(e));if(window.self!==window.top){const e=({data:n,source:r})=>{r!==window.parent||typeof n!="object"||typeof n.type!="string"||t(n)};return window.removeEventListener("message",e),window.addEventListener("message",e),n=>window.parent.postMessage(n,"*")}throw new Error("unsupported platform")}async function ml(t){let e=!1;const n=new Set,r=gl(o=>{if(!e){n.add(o);return}t(o)});await new Promise(o=>{function i(){window.removeEventListener("DOMContentLoaded",i),o()}document.body?o():(window.removeEventListener("DOMContentLoaded",i),window.addEventListener("DOMContentLoaded",i,{once:!0}))}),e=!0;for(const o of n)t(o),n.delete(o);return r}const de=document.createElement("rdh-ui");(async()=>{const t=await ml(n=>{switch(n.type){case"RDH_APPLY":Array.isArray(n.payload)&&(e.highlights=n.payload);break;case"RDH_CONFIG":typeof n.payload.pro=="boolean"&&(e.pro=n.payload.pro),typeof n.payload.nav=="boolean"&&(e.nav=n.payload.nav),typeof n.payload.hide_new_toolbar=="boolean"&&(e.hide_new_toolbar=n.payload.hide_new_toolbar),typeof n.payload.enabled=="boolean"&&(n.payload.enabled===!0?document.body.contains(de)||document.body.appendChild(de):document.body.contains(de)&&document.body.removeChild(de));break;case"RDH_SCROLL":typeof n.payload._id=="string"&&ro(n.payload._id);break;case"RDH_ADD_SELECTION":{const r=En();if(!r)return;const o=e.find(r);if(!o)return;e.upsert({...o,...n.payload||{}}),te()}break;case"RDH_NOTE_SELECTION":{const r=En();if(!r)return;const o=e.find(r);if(!o)return;e.setDraft(o),te()}break}}),e=Xi(n=>t({type:"RDH_ADD",payload:n}),n=>t({type:"RDH_UPDATE",payload:n}),({_id:n})=>t({type:"RDH_REMOVE",payload:{_id:n}}));de.store=e,t({type:"RDH_READY",payload:{url:location.href}})})();
